<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reporte Balizas V16 - 8/1/2026, 18:56:46</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: #f5f5f5;
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 15px;
            margin-bottom: 30px;
        }
        h2 {
            color: #34495e;
            margin-top: 40px;
            margin-bottom: 20px;
            padding-left: 10px;
            border-left: 4px solid #3498db;
        }
        h3 {
            color: #7f8c8d;
            margin-top: 25px;
            margin-bottom: 15px;
        }
        .summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 8px;
            text-align: center;
        }
        .stat-card.green {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }
        .stat-card.orange {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }
        .stat-card.blue {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        .stat-value {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }
        th {
            background: #f8f9fa;
            font-weight: 600;
            color: #495057;
        }
        tr:hover {
            background: #f8f9fa;
        }
        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.85em;
            font-weight: 600;
        }
        .badge.active {
            background: #d4edda;
            color: #155724;
        }
        .badge.lost {
            background: #f8d7da;
            color: #721c24;
        }
        .chart-container {
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        .bar {
            background: #3498db;
            color: white;
            padding: 8px;
            margin: 5px 0;
            border-radius: 4px;
            display: flex;
            justify-content: space-between;
        }
        .footer {
            margin-top: 50px;
            padding-top: 20px;
            border-top: 2px solid #e0e0e0;
            text-align: center;
            color: #7f8c8d;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìä Reporte de An√°lisis - Balizas V16</h1>
        <p><strong>Generado:</strong> 8/1/2026, 18:56:46</p>
        <p><strong>üìÖ Per√≠odo de Datos:</strong> 6/1/2026, 17:11:56 ‚Üí 8/1/2026, 18:41:58</p>
        <p><strong>‚è±Ô∏è Duraci√≥n:</strong> 3 d√≠as de monitoreo continuo</p>

        <h2>üìà Resumen Ejecutivo</h2>
        <div class="summary">
            <div class="stat-card">
                <div class="stat-value">23.895</div>
                <div class="stat-label">Balizas √önicas</div>
            </div>
            <div class="stat-card green">
                <div class="stat-value">282</div>
                <div class="stat-label">Activas Ahora</div>
            </div>
            <div class="stat-card orange">
                <div class="stat-value">334</div>
                <div class="stat-label">Perdidas</div>
            </div>
            <div class="stat-card blue">
                <div class="stat-value">3</div>
                <div class="stat-label">D√≠as de Datos</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">23.895</div>
                <div class="stat-label">Total Activaciones</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">199</div>
                <div class="stat-label">Snapshots</div>
            </div>
        </div>

        <h2>‚è±Ô∏è An√°lisis Hist√≥rico</h2>
        <table>
            <tr>
                <th>M√©trica</th>
                <th>Valor</th>
            </tr>
            <tr>
                <td>Tiempo Activo Promedio</td>
                <td><strong>46m</strong></td>
            </tr>
            <tr>
                <td>Ciclos Promedio por Baliza</td>
                <td><strong>1</strong></td>
            </tr>
            <tr>
                <td>Registros con Tiempo Activo</td>
                <td><strong>23.279</strong></td>
            </tr>
        </table>

        <h3>Distribuci√≥n de Tiempo Activo</h3>
        <div class="chart-container">
            <div class="bar">
                <span>&lt; 15 minutos</span>
                <span><strong>0</strong></span>
            </div>
            <div class="bar">
                <span>15-60 minutos</span>
                <span><strong>16739</strong></span>
            </div>
            <div class="bar">
                <span>1-6 horas</span>
                <span><strong>6540</strong></span>
            </div>
            <div class="bar">
                <span>6-24 horas</span>
                <span><strong>0</strong></span>
            </div>
            <div class="bar">
                <span>&gt; 24 horas</span>
                <span><strong>0</strong></span>
            </div>
        </div>

        <h2>üèÜ Top 10 - Balizas M√°s Activas</h2>
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Carretera</th>
                    <th>Municipio</th>
                    <th>Ciclos</th>
                    <th>Tiempo Total</th>
                </tr>
            </thead>
            <tbody>
                
                <tr>
                    <td><code>19480324</code></td>
                    <td><strong>BA-012</strong></td>
                    <td>Almendralejo, Badajoz</td>
                    <td>1</td>
                    <td>1h 15m</td>
                </tr>
                
                <tr>
                    <td><code>19505259</code></td>
                    <td><strong>N-332</strong></td>
                    <td>Pedreguer, Alacant/Alicante</td>
                    <td>1</td>
                    <td>45m</td>
                </tr>
                
                <tr>
                    <td><code>19457018</code></td>
                    <td><strong>V-21</strong></td>
                    <td>Val√®ncia, Val√®ncia/Valencia</td>
                    <td>1</td>
                    <td>1h 0m</td>
                </tr>
                
                <tr>
                    <td><code>19498812</code></td>
                    <td><strong>N-344</strong></td>
                    <td>Las Torres de Cotillas, Murcia</td>
                    <td>1</td>
                    <td>30m</td>
                </tr>
                
                <tr>
                    <td><code>19474022</code></td>
                    <td><strong>AS-378</strong></td>
                    <td>Langreo, Asturias</td>
                    <td>1</td>
                    <td>30m</td>
                </tr>
                
                <tr>
                    <td><code>19497261</code></td>
                    <td><strong>A-62</strong></td>
                    <td>Pajares de la Laguna, Salamanca</td>
                    <td>1</td>
                    <td>1h 15m</td>
                </tr>
                
                <tr>
                    <td><code>19499727</code></td>
                    <td><strong>CM-410a</strong></td>
                    <td>La Puebla de Almoradiel, Toledo</td>
                    <td>1</td>
                    <td>1h 30m</td>
                </tr>
                
                <tr>
                    <td><code>19480323</code></td>
                    <td><strong>GC-100</strong></td>
                    <td>Ag√ºimes, Las Palmas</td>
                    <td>1</td>
                    <td>1h 15m</td>
                </tr>
                
                <tr>
                    <td><code>19471206</code></td>
                    <td><strong>A-4</strong></td>
                    <td>Valdemoro, Madrid</td>
                    <td>1</td>
                    <td>1h 30m</td>
                </tr>
                
                <tr>
                    <td><code>19462182</code></td>
                    <td><strong>Ma-3400</strong></td>
                    <td>Santa Margalida, Illes Balears</td>
                    <td>1</td>
                    <td>45m</td>
                </tr>
                
            </tbody>
        </table>

        <h2>üìç An√°lisis por Comunidad Aut√≥noma</h2>
        <table>
            <thead>
                <tr>
                    <th>Comunidad</th>
                    <th>Activaciones</th>
                    <th>Balizas √önicas</th>
                    <th>Tiempo Activo Promedio</th>
                </tr>
            </thead>
            <tbody>
                
                <tr>
                    <td><strong>Andaluc√≠a</strong></td>
                    <td>5588</td>
                    <td>5588</td>
                    <td>45 min</td>
                </tr>
                
                <tr>
                    <td><strong>Comunidad de Madrid</strong></td>
                    <td>2437</td>
                    <td>2437</td>
                    <td>48 min</td>
                </tr>
                
                <tr>
                    <td><strong>Comunitat Valenciana</strong></td>
                    <td>2365</td>
                    <td>2365</td>
                    <td>47 min</td>
                </tr>
                
                <tr>
                    <td><strong>Galicia</strong></td>
                    <td>2364</td>
                    <td>2364</td>
                    <td>45 min</td>
                </tr>
                
                <tr>
                    <td><strong>Castilla y Le√≥n</strong></td>
                    <td>2219</td>
                    <td>2219</td>
                    <td>45 min</td>
                </tr>
                
                <tr>
                    <td><strong>Castilla-La Mancha</strong></td>
                    <td>1717</td>
                    <td>1717</td>
                    <td>45 min</td>
                </tr>
                
                <tr>
                    <td><strong>Canarias</strong></td>
                    <td>1382</td>
                    <td>1382</td>
                    <td>45 min</td>
                </tr>
                
                <tr>
                    <td><strong>Regi√≥n de Murcia</strong></td>
                    <td>963</td>
                    <td>963</td>
                    <td>44 min</td>
                </tr>
                
                <tr>
                    <td><strong>Arag√≥n</strong></td>
                    <td>884</td>
                    <td>884</td>
                    <td>48 min</td>
                </tr>
                
                <tr>
                    <td><strong>Extremadura</strong></td>
                    <td>772</td>
                    <td>772</td>
                    <td>44 min</td>
                </tr>
                
            </tbody>
        </table>

        <h2>üõ£Ô∏è Top 15 Carreteras</h2>
        <table>
            <thead>
                <tr>
                    <th>Carretera</th>
                    <th>Activaciones</th>
                    <th>Balizas √önicas</th>
                    <th>Tiempo Activo Promedio</th>
                </tr>
            </thead>
            <tbody>
                
                <tr>
                    <td><strong>A-7</strong></td>
                    <td>873</td>
                    <td>873</td>
                    <td>46 min</td>
                </tr>
                
                <tr>
                    <td><strong>A-4</strong></td>
                    <td>497</td>
                    <td>497</td>
                    <td>43 min</td>
                </tr>
                
                <tr>
                    <td><strong>AP-7</strong></td>
                    <td>437</td>
                    <td>437</td>
                    <td>51 min</td>
                </tr>
                
                <tr>
                    <td><strong>A-2</strong></td>
                    <td>294</td>
                    <td>294</td>
                    <td>50 min</td>
                </tr>
                
                <tr>
                    <td><strong>M-40</strong></td>
                    <td>279</td>
                    <td>279</td>
                    <td>48 min</td>
                </tr>
                
                <tr>
                    <td><strong>A-92</strong></td>
                    <td>273</td>
                    <td>273</td>
                    <td>42 min</td>
                </tr>
                
                <tr>
                    <td><strong>A-6</strong></td>
                    <td>263</td>
                    <td>263</td>
                    <td>43 min</td>
                </tr>
                
                <tr>
                    <td><strong>N-332</strong></td>
                    <td>257</td>
                    <td>257</td>
                    <td>45 min</td>
                </tr>
                
                <tr>
                    <td><strong>A-3</strong></td>
                    <td>241</td>
                    <td>241</td>
                    <td>45 min</td>
                </tr>
                
                <tr>
                    <td><strong>N-340</strong></td>
                    <td>225</td>
                    <td>225</td>
                    <td>45 min</td>
                </tr>
                
                <tr>
                    <td><strong>A-8</strong></td>
                    <td>224</td>
                    <td>224</td>
                    <td>39 min</td>
                </tr>
                
                <tr>
                    <td><strong>A-66</strong></td>
                    <td>202</td>
                    <td>202</td>
                    <td>49 min</td>
                </tr>
                
                <tr>
                    <td><strong>A-5</strong></td>
                    <td>201</td>
                    <td>201</td>
                    <td>44 min</td>
                </tr>
                
                <tr>
                    <td><strong>TF-1</strong></td>
                    <td>186</td>
                    <td>186</td>
                    <td>46 min</td>
                </tr>
                
                <tr>
                    <td><strong>N-634</strong></td>
                    <td>182</td>
                    <td>182</td>
                    <td>43 min</td>
                </tr>
                
            </tbody>
        </table>

        <h2>ÔøΩ Gr√°fica Hist√≥rica - Activaciones por Hora</h2>
        <div class="chart-container">
            <canvas id="activationsChart"></canvas>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
        <script>
            const ctx = document.getElementById('activationsChart').getContext('2d');
            const hourData = [{"hour":0,"avg":134,"total":402,"days":3},{"hour":1,"avg":92.3,"total":277,"days":3},{"hour":2,"avg":57.7,"total":173,"days":3},{"hour":3,"avg":35,"total":105,"days":3},{"hour":4,"avg":30.7,"total":92,"days":3},{"hour":5,"avg":57.7,"total":173,"days":3},{"hour":6,"avg":115.7,"total":347,"days":3},{"hour":7,"avg":277,"total":831,"days":3},{"hour":8,"avg":529,"total":1587,"days":3},{"hour":9,"avg":544.3,"total":1633,"days":3},{"hour":10,"avg":450,"total":1350,"days":3},{"hour":11,"avg":457.7,"total":1373,"days":3},{"hour":12,"avg":408.7,"total":1226,"days":3},{"hour":13,"avg":463.3,"total":1390,"days":3},{"hour":14,"avg":446,"total":1338,"days":3},{"hour":15,"avg":459,"total":1377,"days":3},{"hour":16,"avg":481.3,"total":1444,"days":3},{"hour":17,"avg":671,"total":2013,"days":3},{"hour":18,"avg":599.3,"total":1798,"days":3},{"hour":19,"avg":456.3,"total":1369,"days":3},{"hour":20,"avg":438.7,"total":1316,"days":3},{"hour":21,"avg":321,"total":963,"days":3},{"hour":22,"avg":247,"total":741,"days":3},{"hour":23,"avg":192.3,"total":577,"days":3}];
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: hourData.map(h => h.hour + ':00h'),
                    datasets: [{
                        label: 'Media Diaria de Activaciones',
                        data: hourData.map(h => h.avg),
                        backgroundColor: 'rgba(52, 152, 219, 0.1)',
                        borderColor: 'rgba(52, 152, 219, 1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        pointRadius: 4,
                        pointHoverRadius: 6,
                        pointBackgroundColor: 'rgba(52, 152, 219, 1)',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top'
                        },
                        title: {
                            display: true,
                            text: 'Media Diaria de Activaciones por Hora (' + hourData[0].days + ' d√≠as de datos)',
                            font: {
                                size: 16,
                                weight: 'bold'
                            },
                            padding: 20
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const hour = hourData[context.dataIndex];
                                    return [
                                        'Media diaria: ' + hour.avg.toFixed(1) + ' activaciones',
                                        'Total per√≠odo: ' + hour.total.toLocaleString() + ' activaciones',
                                        'D√≠as analizados: ' + hour.days
                                    ];
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return value.toLocaleString();
                                }
                            },
                            title: {
                                display: true,
                                text: 'Media Diaria de Activaciones',
                                font: {
                                    size: 12,
                                    weight: 'bold'
                                }
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Hora del D√≠a',
                                font: {
                                    size: 12,
                                    weight: 'bold'
                                }
                            }
                        }
                    }
                }
            });
        </script>

        <h2>ÔøΩüìñ Glosario de T√©rminos</h2>
        <table>
            <tr>
                <th>T√©rmino</th>
                <th>Descripci√≥n</th>
            </tr>
            <tr>
                <td><strong>Baliza</strong></td>
                <td>Dispositivo V16 de emergencia que transmite su ubicaci√≥n cuando est√° activo en una carretera.</td>
            </tr>
            <tr>
                <td><strong>Activaci√≥n</strong></td>
                <td>Evento en el que una baliza comienza a transmitir (status: active). Cada aparici√≥n de una baliza cuenta como 1 activaci√≥n.</td>
            </tr>
            <tr>
                <td><strong>Ciclo</strong></td>
                <td>Secuencia completa de activaci√≥n ‚Üí desactivaci√≥n de una baliza. Si una baliza se activa 3 veces diferentes, tiene 3 ciclos.</td>
            </tr>
            <tr>
                <td><strong>Tiempo Activo</strong></td>
                <td>Duraci√≥n total que una baliza estuvo transmitiendo, desde que aparece (active) hasta que desaparece (lost/inactive).</td>
            </tr>
            <tr>
                <td><strong>Balizas √önicas</strong></td>
                <td>N√∫mero de balizas diferentes identificadas por su ID √∫nico, sin contar repeticiones.</td>
            </tr>
            <tr>
                <td><strong>Estado: Active</strong></td>
                <td>La baliza est√° actualmente transmitiendo y visible en el sistema.</td>
            </tr>
            <tr>
                <td><strong>Estado: Lost/Inactive</strong></td>
                <td>La baliza dej√≥ de transmitir o fue desactivada. Ya no es visible en el sistema.</td>
            </tr>
            <tr>
                <td><strong>Snapshot</strong></td>
                <td>Captura de todos los datos en un momento espec√≠fico. El sistema hace snapshots cada 15 minutos.</td>
            </tr>
            <tr>
                <td><strong>Orientaci√≥n</strong></td>
                <td>Direcci√≥n de la carretera donde est√° ubicada la baliza (Norte, Sur, Este, Oeste, etc.).</td>
            </tr>
            <tr>
                <td><strong>PK (Punto Kilom√©trico)</strong></td>
                <td>Ubicaci√≥n exacta en la carretera medida en kil√≥metros desde el inicio de la v√≠a.</td>
            </tr>
        </table>

        <div class="footer">
            <p>Reporte generado autom√°ticamente por Balizas V16 Data Fetcher</p>
            <p>2026-01-08T17:56:47.325Z</p>
        </div>
    </div>
</body>
</html>