<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reporte Balizas V16 - 9/1/2026, 12:31:17</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: #f5f5f5;
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 15px;
            margin-bottom: 30px;
        }
        h2 {
            color: #34495e;
            margin-top: 40px;
            margin-bottom: 20px;
            padding-left: 10px;
            border-left: 4px solid #3498db;
        }
        h3 {
            color: #7f8c8d;
            margin-top: 25px;
            margin-bottom: 15px;
        }
        .summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 8px;
            text-align: center;
        }
        .stat-card.green {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }
        .stat-card.orange {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }
        .stat-card.blue {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        .stat-value {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }
        th {
            background: #f8f9fa;
            font-weight: 600;
            color: #495057;
        }
        tr:hover {
            background: #f8f9fa;
        }
        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.85em;
            font-weight: 600;
        }
        .badge.active {
            background: #d4edda;
            color: #155724;
        }
        .badge.lost {
            background: #f8d7da;
            color: #721c24;
        }
        .chart-container {
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        .bar {
            background: #3498db;
            color: white;
            padding: 8px;
            margin: 5px 0;
            border-radius: 4px;
            display: flex;
            justify-content: space-between;
        }
        .footer {
            margin-top: 50px;
            padding-top: 20px;
            border-top: 2px solid #e0e0e0;
            text-align: center;
            color: #7f8c8d;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìä Reporte de An√°lisis - Balizas V16</h1>
        <p><strong>Generado:</strong> 9/1/2026, 12:31:17</p>
        <p><strong>üìÖ Per√≠odo de Datos:</strong> 6/1/2026, 15:37:18 ‚Üí 9/1/2026, 12:31:03</p>
        <p><strong>‚è±Ô∏è Duraci√≥n:</strong> 3 d√≠as de monitoreo continuo</p>

        <h2>üìà Resumen Ejecutivo</h2>
        <div class="summary">
            <div class="stat-card">
                <div class="stat-value">31.508</div>
                <div class="stat-label">Balizas √önicas</div>
            </div>
            <div class="stat-card green">
                <div class="stat-value">258</div>
                <div class="stat-label">Activas Ahora</div>
            </div>
            <div class="stat-card orange">
                <div class="stat-value">370</div>
                <div class="stat-label">Perdidas</div>
            </div>
            <div class="stat-card blue">
                <div class="stat-value">3</div>
                <div class="stat-label">D√≠as de Datos</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">31.508</div>
                <div class="stat-label">Total Activaciones</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">271</div>
                <div class="stat-label">Snapshots</div>
            </div>
        </div>

        <h2>‚è±Ô∏è An√°lisis Hist√≥rico</h2>
        <table>
            <tr>
                <th>M√©trica</th>
                <th>Valor</th>
            </tr>
            <tr>
                <td>Tiempo Activo Promedio</td>
                <td><strong>20m</strong></td>
            </tr>
            <tr>
                <td>Ciclos Promedio por Baliza</td>
                <td><strong>1</strong></td>
            </tr>
            <tr>
                <td>Registros con Tiempo Activo &gt; 0</td>
                <td><strong>23.701</strong></td>
            </tr>
        </table>

        <h3>Distribuci√≥n de Tiempo Activo</h3>
        <div class="chart-container">
            <div class="bar">
                <span>&lt; 15 minutos</span>
                <span><strong>13691</strong></span>
            </div>
            <div class="bar">
                <span>15-60 minutos</span>
                <span><strong>7563</strong></span>
            </div>
            <div class="bar">
                <span>1-6 horas</span>
                <span><strong>2447</strong></span>
            </div>
            <div class="bar">
                <span>6-24 horas</span>
                <span><strong>0</strong></span>
            </div>
            <div class="bar">
                <span>&gt; 24 horas</span>
                <span><strong>0</strong></span>
            </div>
        </div>

        <h2>üìç An√°lisis por Comunidad Aut√≥noma</h2>
        <table>
            <thead>
                <tr>
                    <th>Comunidad</th>
                    <th>Activaciones</th>
                    <th>Balizas √önicas</th>
                    <th>Tiempo Activo Promedio</th>
                </tr>
            </thead>
            <tbody>
                
                <tr>
                    <td><strong>Andaluc√≠a</strong></td>
                    <td>7481</td>
                    <td>7481</td>
                    <td>14 min</td>
                </tr>
                
                <tr>
                    <td><strong>Comunitat Valenciana</strong></td>
                    <td>3220</td>
                    <td>3220</td>
                    <td>15 min</td>
                </tr>
                
                <tr>
                    <td><strong>Comunidad de Madrid</strong></td>
                    <td>3150</td>
                    <td>3150</td>
                    <td>17 min</td>
                </tr>
                
                <tr>
                    <td><strong>Galicia</strong></td>
                    <td>3113</td>
                    <td>3113</td>
                    <td>14 min</td>
                </tr>
                
                <tr>
                    <td><strong>Castilla y Le√≥n</strong></td>
                    <td>2838</td>
                    <td>2838</td>
                    <td>14 min</td>
                </tr>
                
                <tr>
                    <td><strong>Castilla-La Mancha</strong></td>
                    <td>2271</td>
                    <td>2271</td>
                    <td>15 min</td>
                </tr>
                
                <tr>
                    <td><strong>Canarias</strong></td>
                    <td>1821</td>
                    <td>1821</td>
                    <td>14 min</td>
                </tr>
                
                <tr>
                    <td><strong>Regi√≥n de Murcia</strong></td>
                    <td>1349</td>
                    <td>1349</td>
                    <td>13 min</td>
                </tr>
                
                <tr>
                    <td><strong>Arag√≥n</strong></td>
                    <td>1118</td>
                    <td>1118</td>
                    <td>17 min</td>
                </tr>
                
                <tr>
                    <td><strong>Extremadura</strong></td>
                    <td>1024</td>
                    <td>1024</td>
                    <td>13 min</td>
                </tr>
                
            </tbody>
        </table>

        <h2>üõ£Ô∏è Top 15 Carreteras</h2>
        <table>
            <thead>
                <tr>
                    <th>Carretera</th>
                    <th>Activaciones</th>
                    <th>Balizas √önicas</th>
                    <th>Tiempo Activo Promedio</th>
                </tr>
            </thead>
            <tbody>
                
                <tr>
                    <td><strong>A-7</strong></td>
                    <td>1228</td>
                    <td>1228</td>
                    <td>14 min</td>
                </tr>
                
                <tr>
                    <td><strong>A-4</strong></td>
                    <td>657</td>
                    <td>657</td>
                    <td>14 min</td>
                </tr>
                
                <tr>
                    <td><strong>AP-7</strong></td>
                    <td>593</td>
                    <td>593</td>
                    <td>20 min</td>
                </tr>
                
                <tr>
                    <td><strong>N-332</strong></td>
                    <td>378</td>
                    <td>378</td>
                    <td>13 min</td>
                </tr>
                
                <tr>
                    <td><strong>A-2</strong></td>
                    <td>377</td>
                    <td>377</td>
                    <td>19 min</td>
                </tr>
                
                <tr>
                    <td><strong>A-92</strong></td>
                    <td>352</td>
                    <td>352</td>
                    <td>12 min</td>
                </tr>
                
                <tr>
                    <td><strong>A-6</strong></td>
                    <td>351</td>
                    <td>351</td>
                    <td>12 min</td>
                </tr>
                
                <tr>
                    <td><strong>A-3</strong></td>
                    <td>334</td>
                    <td>334</td>
                    <td>14 min</td>
                </tr>
                
                <tr>
                    <td><strong>M-40</strong></td>
                    <td>323</td>
                    <td>323</td>
                    <td>19 min</td>
                </tr>
                
                <tr>
                    <td><strong>A-8</strong></td>
                    <td>287</td>
                    <td>287</td>
                    <td>8 min</td>
                </tr>
                
                <tr>
                    <td><strong>N-340</strong></td>
                    <td>284</td>
                    <td>284</td>
                    <td>15 min</td>
                </tr>
                
                <tr>
                    <td><strong>A-5</strong></td>
                    <td>256</td>
                    <td>256</td>
                    <td>14 min</td>
                </tr>
                
                <tr>
                    <td><strong>A-66</strong></td>
                    <td>250</td>
                    <td>250</td>
                    <td>20 min</td>
                </tr>
                
                <tr>
                    <td><strong>TF-1</strong></td>
                    <td>231</td>
                    <td>231</td>
                    <td>17 min</td>
                </tr>
                
                <tr>
                    <td><strong>A-42</strong></td>
                    <td>225</td>
                    <td>225</td>
                    <td>19 min</td>
                </tr>
                
            </tbody>
        </table>

        <h2>üìÖ Evoluci√≥n Diaria de Balizas</h2>
        <div class="chart-container">
            <canvas id="dailyEvolutionChart"></canvas>
        </div>
        
        <h3>Tabla de Datos Diarios</h3>
        <table>
            <thead>
                <tr>
                    <th>Fecha</th>
                    <th>Total Activaciones</th>
                    <th>Balizas √önicas</th>
                </tr>
            </thead>
            <tbody>
                
                <tr>
                    <td><strong>6/1/2026</strong></td>
                    <td>3902</td>
                    <td>3902</td>
                </tr>
                
                <tr>
                    <td><strong>7/1/2026</strong></td>
                    <td>11.700</td>
                    <td>11.700</td>
                </tr>
                
                <tr>
                    <td><strong>8/1/2026</strong></td>
                    <td>11.358</td>
                    <td>11.358</td>
                </tr>
                
                <tr>
                    <td><strong>9/1/2026</strong></td>
                    <td>4548</td>
                    <td>4548</td>
                </tr>
                
            </tbody>
        </table>

        <h2>üó∫Ô∏è An√°lisis Detallado por Ubicaci√≥n</h2>
        
        <h3>üìç Por Provincia (Top 30)</h3>
        <table>
            <thead>
                <tr>
                    <th>Provincia</th>
                    <th>Comunidad</th>
                    <th>Total Activaciones</th>
                    <th>Balizas √önicas</th>
                </tr>
            </thead>
            <tbody>
                
                <tr>
                    <td><strong>Madrid</strong></td>
                    <td>Comunidad de Madrid</td>
                    <td>3150</td>
                    <td>3150</td>
                </tr>
                
                <tr>
                    <td><strong>Alacant/Alicante</strong></td>
                    <td>Comunitat Valenciana</td>
                    <td>1473</td>
                    <td>1473</td>
                </tr>
                
                <tr>
                    <td><strong>M√°laga</strong></td>
                    <td>Andaluc√≠a</td>
                    <td>1450</td>
                    <td>1450</td>
                </tr>
                
                <tr>
                    <td><strong>A Coru√±a</strong></td>
                    <td>Galicia</td>
                    <td>1389</td>
                    <td>1389</td>
                </tr>
                
                <tr>
                    <td><strong>Murcia</strong></td>
                    <td>Regi√≥n de Murcia</td>
                    <td>1349</td>
                    <td>1349</td>
                </tr>
                
                <tr>
                    <td><strong>Val√®ncia/Valencia</strong></td>
                    <td>Comunitat Valenciana</td>
                    <td>1288</td>
                    <td>1288</td>
                </tr>
                
                <tr>
                    <td><strong>Sevilla</strong></td>
                    <td>Andaluc√≠a</td>
                    <td>1255</td>
                    <td>1255</td>
                </tr>
                
                <tr>
                    <td><strong>Granada</strong></td>
                    <td>Andaluc√≠a</td>
                    <td>1127</td>
                    <td>1127</td>
                </tr>
                
                <tr>
                    <td><strong>C√≥rdoba</strong></td>
                    <td>Andaluc√≠a</td>
                    <td>1038</td>
                    <td>1038</td>
                </tr>
                
                <tr>
                    <td><strong>Pontevedra</strong></td>
                    <td>Galicia</td>
                    <td>1002</td>
                    <td>1002</td>
                </tr>
                
                <tr>
                    <td><strong>Santa Cruz de Tenerife</strong></td>
                    <td>Canarias</td>
                    <td>978</td>
                    <td>978</td>
                </tr>
                
                <tr>
                    <td><strong>Toledo</strong></td>
                    <td>Castilla-La Mancha</td>
                    <td>922</td>
                    <td>922</td>
                </tr>
                
                <tr>
                    <td><strong>Asturias</strong></td>
                    <td>Principado de Asturias</td>
                    <td>866</td>
                    <td>866</td>
                </tr>
                
                <tr>
                    <td><strong>Illes Balears</strong></td>
                    <td>Illes Balears</td>
                    <td>846</td>
                    <td>846</td>
                </tr>
                
                <tr>
                    <td><strong>Las Palmas</strong></td>
                    <td>Canarias</td>
                    <td>843</td>
                    <td>843</td>
                </tr>
                
                <tr>
                    <td><strong>C√°diz</strong></td>
                    <td>Andaluc√≠a</td>
                    <td>748</td>
                    <td>748</td>
                </tr>
                
                <tr>
                    <td><strong>Navarra</strong></td>
                    <td>Comunidad Foral de Navarra</td>
                    <td>727</td>
                    <td>727</td>
                </tr>
                
                <tr>
                    <td><strong>Almer√≠a</strong></td>
                    <td>Andaluc√≠a</td>
                    <td>695</td>
                    <td>695</td>
                </tr>
                
                <tr>
                    <td><strong>Cantabria</strong></td>
                    <td>Cantabria</td>
                    <td>625</td>
                    <td>625</td>
                </tr>
                
                <tr>
                    <td><strong>Ja√©n</strong></td>
                    <td>Andaluc√≠a</td>
                    <td>622</td>
                    <td>622</td>
                </tr>
                
                <tr>
                    <td><strong>Badajoz</strong></td>
                    <td>Extremadura</td>
                    <td>573</td>
                    <td>573</td>
                </tr>
                
                <tr>
                    <td><strong>Huelva</strong></td>
                    <td>Andaluc√≠a</td>
                    <td>546</td>
                    <td>546</td>
                </tr>
                
                <tr>
                    <td><strong>Valladolid</strong></td>
                    <td>Castilla y Le√≥n</td>
                    <td>545</td>
                    <td>545</td>
                </tr>
                
                <tr>
                    <td><strong>Zaragoza</strong></td>
                    <td>Arag√≥n</td>
                    <td>525</td>
                    <td>525</td>
                </tr>
                
                <tr>
                    <td><strong>Le√≥n</strong></td>
                    <td>Castilla y Le√≥n</td>
                    <td>512</td>
                    <td>512</td>
                </tr>
                
                <tr>
                    <td><strong>Barcelona</strong></td>
                    <td>Catalu√±a</td>
                    <td>463</td>
                    <td>463</td>
                </tr>
                
                <tr>
                    <td><strong>Castell√≥/Castell√≥n</strong></td>
                    <td>Comunitat Valenciana</td>
                    <td>459</td>
                    <td>459</td>
                </tr>
                
                <tr>
                    <td><strong>C√°ceres</strong></td>
                    <td>Extremadura</td>
                    <td>451</td>
                    <td>451</td>
                </tr>
                
                <tr>
                    <td><strong>Cuenca</strong></td>
                    <td>Castilla-La Mancha</td>
                    <td>447</td>
                    <td>447</td>
                </tr>
                
                <tr>
                    <td><strong>Huesca</strong></td>
                    <td>Arag√≥n</td>
                    <td>435</td>
                    <td>435</td>
                </tr>
                
            </tbody>
        </table>

        <h3>üèòÔ∏è Por Municipio (Top 50)</h3>
        <table>
            <thead>
                <tr>
                    <th>Municipio</th>
                    <th>Provincia</th>
                    <th>Comunidad</th>
                    <th>Total Activaciones</th>
                    <th>Balizas √önicas</th>
                </tr>
            </thead>
            <tbody>
                
                <tr>
                    <td><strong>Madrid</strong></td>
                    <td>Madrid</td>
                    <td>Comunidad de Madrid</td>
                    <td>861</td>
                    <td>861</td>
                </tr>
                
                <tr>
                    <td><strong>Murcia</strong></td>
                    <td>Murcia</td>
                    <td>Regi√≥n de Murcia</td>
                    <td>430</td>
                    <td>430</td>
                </tr>
                
                <tr>
                    <td><strong>C√≥rdoba</strong></td>
                    <td>C√≥rdoba</td>
                    <td>Andaluc√≠a</td>
                    <td>349</td>
                    <td>349</td>
                </tr>
                
                <tr>
                    <td><strong>M√°laga</strong></td>
                    <td>M√°laga</td>
                    <td>Andaluc√≠a</td>
                    <td>278</td>
                    <td>278</td>
                </tr>
                
                <tr>
                    <td><strong>Las Palmas de Gran Canaria</strong></td>
                    <td>Las Palmas</td>
                    <td>Canarias</td>
                    <td>229</td>
                    <td>229</td>
                </tr>
                
                <tr>
                    <td><strong>Marbella</strong></td>
                    <td>M√°laga</td>
                    <td>Andaluc√≠a</td>
                    <td>222</td>
                    <td>222</td>
                </tr>
                
                <tr>
                    <td><strong>Sevilla</strong></td>
                    <td>Sevilla</td>
                    <td>Andaluc√≠a</td>
                    <td>217</td>
                    <td>217</td>
                </tr>
                
                <tr>
                    <td><strong>Palma</strong></td>
                    <td>Illes Balears</td>
                    <td>Illes Balears</td>
                    <td>205</td>
                    <td>205</td>
                </tr>
                
                <tr>
                    <td><strong>Alacant/Alicante</strong></td>
                    <td>Alacant/Alicante</td>
                    <td>Comunitat Valenciana</td>
                    <td>194</td>
                    <td>194</td>
                </tr>
                
                <tr>
                    <td><strong>Valladolid</strong></td>
                    <td>Valladolid</td>
                    <td>Castilla y Le√≥n</td>
                    <td>172</td>
                    <td>172</td>
                </tr>
                
                <tr>
                    <td><strong>A Coru√±a</strong></td>
                    <td>A Coru√±a</td>
                    <td>Galicia</td>
                    <td>171</td>
                    <td>171</td>
                </tr>
                
                <tr>
                    <td><strong>Culleredo</strong></td>
                    <td>A Coru√±a</td>
                    <td>Galicia</td>
                    <td>165</td>
                    <td>165</td>
                </tr>
                
                <tr>
                    <td><strong>Montilla</strong></td>
                    <td>C√≥rdoba</td>
                    <td>Andaluc√≠a</td>
                    <td>158</td>
                    <td>158</td>
                </tr>
                
                <tr>
                    <td><strong>Ponteareas</strong></td>
                    <td>Pontevedra</td>
                    <td>Galicia</td>
                    <td>157</td>
                    <td>157</td>
                </tr>
                
                <tr>
                    <td><strong>Zaragoza</strong></td>
                    <td>Zaragoza</td>
                    <td>Arag√≥n</td>
                    <td>153</td>
                    <td>153</td>
                </tr>
                
                <tr>
                    <td><strong>Getafe</strong></td>
                    <td>Madrid</td>
                    <td>Comunidad de Madrid</td>
                    <td>153</td>
                    <td>153</td>
                </tr>
                
                <tr>
                    <td><strong>Mijas</strong></td>
                    <td>M√°laga</td>
                    <td>Andaluc√≠a</td>
                    <td>149</td>
                    <td>149</td>
                </tr>
                
                <tr>
                    <td><strong>Vigo</strong></td>
                    <td>Pontevedra</td>
                    <td>Galicia</td>
                    <td>126</td>
                    <td>126</td>
                </tr>
                
                <tr>
                    <td><strong>Granada</strong></td>
                    <td>Granada</td>
                    <td>Andaluc√≠a</td>
                    <td>125</td>
                    <td>125</td>
                </tr>
                
                <tr>
                    <td><strong>Fuenlabrada</strong></td>
                    <td>Madrid</td>
                    <td>Comunidad de Madrid</td>
                    <td>123</td>
                    <td>123</td>
                </tr>
                
                <tr>
                    <td><strong>San Crist√≥bal de La Laguna</strong></td>
                    <td>Santa Cruz de Tenerife</td>
                    <td>Canarias</td>
                    <td>122</td>
                    <td>122</td>
                </tr>
                
                <tr>
                    <td><strong>Paterna</strong></td>
                    <td>Val√®ncia/Valencia</td>
                    <td>Comunitat Valenciana</td>
                    <td>118</td>
                    <td>118</td>
                </tr>
                
                <tr>
                    <td><strong>Alcal√° de Guada√≠ra</strong></td>
                    <td>Sevilla</td>
                    <td>Andaluc√≠a</td>
                    <td>114</td>
                    <td>114</td>
                </tr>
                
                <tr>
                    <td><strong>El Ejido</strong></td>
                    <td>Almer√≠a</td>
                    <td>Andaluc√≠a</td>
                    <td>112</td>
                    <td>112</td>
                </tr>
                
                <tr>
                    <td><strong>Legan√©s</strong></td>
                    <td>Madrid</td>
                    <td>Comunidad de Madrid</td>
                    <td>109</td>
                    <td>109</td>
                </tr>
                
                <tr>
                    <td><strong>Santa Cruz de Tenerife</strong></td>
                    <td>Santa Cruz de Tenerife</td>
                    <td>Canarias</td>
                    <td>108</td>
                    <td>108</td>
                </tr>
                
                <tr>
                    <td><strong>Huelva</strong></td>
                    <td>Huelva</td>
                    <td>Andaluc√≠a</td>
                    <td>108</td>
                    <td>108</td>
                </tr>
                
                <tr>
                    <td><strong>Telde</strong></td>
                    <td>Las Palmas</td>
                    <td>Canarias</td>
                    <td>107</td>
                    <td>107</td>
                </tr>
                
                <tr>
                    <td><strong>Castell√≥ de la Plana</strong></td>
                    <td>Castell√≥/Castell√≥n</td>
                    <td>Comunitat Valenciana</td>
                    <td>107</td>
                    <td>107</td>
                </tr>
                
                <tr>
                    <td><strong>Cartagena</strong></td>
                    <td>Murcia</td>
                    <td>Regi√≥n de Murcia</td>
                    <td>106</td>
                    <td>106</td>
                </tr>
                
                <tr>
                    <td><strong>Lorca</strong></td>
                    <td>Murcia</td>
                    <td>Regi√≥n de Murcia</td>
                    <td>106</td>
                    <td>106</td>
                </tr>
                
                <tr>
                    <td><strong>Val√®ncia</strong></td>
                    <td>Val√®ncia/Valencia</td>
                    <td>Comunitat Valenciana</td>
                    <td>103</td>
                    <td>103</td>
                </tr>
                
                <tr>
                    <td><strong>Oleiros</strong></td>
                    <td>A Coru√±a</td>
                    <td>Galicia</td>
                    <td>102</td>
                    <td>102</td>
                </tr>
                
                <tr>
                    <td><strong>Elx/Elche</strong></td>
                    <td>Alacant/Alicante</td>
                    <td>Comunitat Valenciana</td>
                    <td>101</td>
                    <td>101</td>
                </tr>
                
                <tr>
                    <td><strong>Alcal√° de Henares</strong></td>
                    <td>Madrid</td>
                    <td>Comunidad de Madrid</td>
                    <td>101</td>
                    <td>101</td>
                </tr>
                
                <tr>
                    <td><strong>Antequera</strong></td>
                    <td>M√°laga</td>
                    <td>Andaluc√≠a</td>
                    <td>98</td>
                    <td>98</td>
                </tr>
                
                <tr>
                    <td><strong>Almer√≠a</strong></td>
                    <td>Almer√≠a</td>
                    <td>Andaluc√≠a</td>
                    <td>96</td>
                    <td>96</td>
                </tr>
                
                <tr>
                    <td><strong>Alcorc√≥n</strong></td>
                    <td>Madrid</td>
                    <td>Comunidad de Madrid</td>
                    <td>95</td>
                    <td>95</td>
                </tr>
                
                <tr>
                    <td><strong>Ja√©n</strong></td>
                    <td>Ja√©n</td>
                    <td>Andaluc√≠a</td>
                    <td>93</td>
                    <td>93</td>
                </tr>
                
                <tr>
                    <td><strong>Badajoz</strong></td>
                    <td>Badajoz</td>
                    <td>Extremadura</td>
                    <td>92</td>
                    <td>92</td>
                </tr>
                
                <tr>
                    <td><strong>Pinto</strong></td>
                    <td>Madrid</td>
                    <td>Comunidad de Madrid</td>
                    <td>92</td>
                    <td>92</td>
                </tr>
                
                <tr>
                    <td><strong>Carmona</strong></td>
                    <td>Sevilla</td>
                    <td>Andaluc√≠a</td>
                    <td>92</td>
                    <td>92</td>
                </tr>
                
                <tr>
                    <td><strong>Gij√≥n</strong></td>
                    <td>Asturias</td>
                    <td>Principado de Asturias</td>
                    <td>87</td>
                    <td>87</td>
                </tr>
                
                <tr>
                    <td><strong>Jerez de la Frontera</strong></td>
                    <td>C√°diz</td>
                    <td>Andaluc√≠a</td>
                    <td>86</td>
                    <td>86</td>
                </tr>
                
                <tr>
                    <td><strong>Toledo</strong></td>
                    <td>Toledo</td>
                    <td>Castilla-La Mancha</td>
                    <td>85</td>
                    <td>85</td>
                </tr>
                
                <tr>
                    <td><strong>Cambre</strong></td>
                    <td>A Coru√±a</td>
                    <td>Galicia</td>
                    <td>84</td>
                    <td>84</td>
                </tr>
                
                <tr>
                    <td><strong>San Roque</strong></td>
                    <td>C√°diz</td>
                    <td>Andaluc√≠a</td>
                    <td>82</td>
                    <td>82</td>
                </tr>
                
                <tr>
                    <td><strong>San Fernando de Henares</strong></td>
                    <td>Madrid</td>
                    <td>Comunidad de Madrid</td>
                    <td>80</td>
                    <td>80</td>
                </tr>
                
                <tr>
                    <td><strong>Villena</strong></td>
                    <td>Alacant/Alicante</td>
                    <td>Comunitat Valenciana</td>
                    <td>74</td>
                    <td>74</td>
                </tr>
                
                <tr>
                    <td><strong>Mieres</strong></td>
                    <td>Asturias</td>
                    <td>Principado de Asturias</td>
                    <td>74</td>
                    <td>74</td>
                </tr>
                
            </tbody>
        </table>

        <h3>üó∫Ô∏è Evoluci√≥n por Comunidad Aut√≥noma</h3>
        <div class="chart-container">
            <canvas id="comunidadEvolutionChart"></canvas>
        </div>

        <h2>üìä Gr√°fica Hist√≥rica - Activaciones por Hora</h2>
        <div class="chart-container">
            <canvas id="activationsChart"></canvas>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
        <script>
            // Gr√°fica de evoluci√≥n diaria
            const dailyCtx = document.getElementById('dailyEvolutionChart').getContext('2d');
            const dailyData = [{"_id":"2026-01-06","totalActivations":3902,"date":"2026-01-06","uniqueBeacons":3902},{"_id":"2026-01-07","totalActivations":11700,"date":"2026-01-07","uniqueBeacons":11700},{"_id":"2026-01-08","totalActivations":11358,"date":"2026-01-08","uniqueBeacons":11358},{"_id":"2026-01-09","totalActivations":4548,"date":"2026-01-09","uniqueBeacons":4548}];
            
            new Chart(dailyCtx, {
                type: 'line',
                data: {
                    labels: dailyData.map(d => new Date(d.date).toLocaleDateString('es-ES', { day: '2-digit', month: '2-digit' })),
                    datasets: [{
                        label: 'Activaciones Totales',
                        data: dailyData.map(d => d.totalActivations),
                        borderColor: 'rgba(52, 152, 219, 1)',
                        backgroundColor: 'rgba(52, 152, 219, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        yAxisID: 'y'
                    }, {
                        label: 'Balizas √önicas',
                        data: dailyData.map(d => d.uniqueBeacons),
                        borderColor: 'rgba(46, 204, 113, 1)',
                        backgroundColor: 'rgba(46, 204, 113, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        yAxisID: 'y1'
                    }]
                },
                options: {
                    responsive: true,
                    interaction: {
                        mode: 'index',
                        intersect: false
                    },
                    plugins: {
                        title: {
                            display: true,
                            text: 'Evoluci√≥n Diaria de Activaciones y Balizas √önicas',
                            font: { size: 16, weight: 'bold' },
                            padding: 20
                        },
                        legend: {
                            display: true,
                            position: 'top'
                        }
                    },
                    scales: {
                        y: {
                            type: 'linear',
                            display: true,
                            position: 'left',
                            title: {
                                display: true,
                                text: 'Activaciones Totales',
                                font: { size: 12, weight: 'bold' }
                            }
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            title: {
                                display: true,
                                text: 'Balizas √önicas',
                                font: { size: 12, weight: 'bold' }
                            },
                            grid: {
                                drawOnChartArea: false
                            }
                        }
                    }
                }
            });

            // Gr√°fica de evoluci√≥n por comunidad
            const comunidadCtx = document.getElementById('comunidadEvolutionChart').getContext('2d');
            const comunidadData = [{"_id":"Andaluc√≠a","total":7481,"dailyData":[{"date":"2026-01-09","count":1222,"uniqueBeacons":1222},{"date":"2026-01-07","count":2732,"uniqueBeacons":2732},{"date":"2026-01-06","count":978,"uniqueBeacons":978},{"date":"2026-01-08","count":2549,"uniqueBeacons":2549}]},{"_id":"Comunitat Valenciana","total":3220,"dailyData":[{"date":"2026-01-07","count":1161,"uniqueBeacons":1161},{"date":"2026-01-08","count":1050,"uniqueBeacons":1050},{"date":"2026-01-06","count":439,"uniqueBeacons":439},{"date":"2026-01-09","count":570,"uniqueBeacons":570}]},{"_id":"Comunidad de Madrid","total":3150,"dailyData":[{"date":"2026-01-09","count":375,"uniqueBeacons":375},{"date":"2026-01-06","count":429,"uniqueBeacons":429},{"date":"2026-01-08","count":1276,"uniqueBeacons":1276},{"date":"2026-01-07","count":1070,"uniqueBeacons":1070}]},{"_id":"Galicia","total":3113,"dailyData":[{"date":"2026-01-07","count":1170,"uniqueBeacons":1170},{"date":"2026-01-06","count":381,"uniqueBeacons":381},{"date":"2026-01-09","count":416,"uniqueBeacons":416},{"date":"2026-01-08","count":1146,"uniqueBeacons":1146}]},{"_id":"Castilla y Le√≥n","total":2838,"dailyData":[{"date":"2026-01-09","count":361,"uniqueBeacons":361},{"date":"2026-01-06","count":351,"uniqueBeacons":351},{"date":"2026-01-08","count":1017,"uniqueBeacons":1017},{"date":"2026-01-07","count":1109,"uniqueBeacons":1109}]},{"_id":"Castilla-La Mancha","total":2271,"dailyData":[{"date":"2026-01-09","count":284,"uniqueBeacons":284},{"date":"2026-01-07","count":875,"uniqueBeacons":875},{"date":"2026-01-08","count":888,"uniqueBeacons":888},{"date":"2026-01-06","count":224,"uniqueBeacons":224}]},{"_id":"Canarias","total":1821,"dailyData":[{"date":"2026-01-06","count":221,"uniqueBeacons":221},{"date":"2026-01-09","count":221,"uniqueBeacons":221},{"date":"2026-01-08","count":684,"uniqueBeacons":684},{"date":"2026-01-07","count":695,"uniqueBeacons":695}]},{"_id":"Regi√≥n de Murcia","total":1349,"dailyData":[{"date":"2026-01-07","count":495,"uniqueBeacons":495},{"date":"2026-01-08","count":447,"uniqueBeacons":447},{"date":"2026-01-09","count":228,"uniqueBeacons":228},{"date":"2026-01-06","count":179,"uniqueBeacons":179}]},{"_id":"Arag√≥n","total":1118,"dailyData":[{"date":"2026-01-08","count":424,"uniqueBeacons":424},{"date":"2026-01-06","count":178,"uniqueBeacons":178},{"date":"2026-01-09","count":120,"uniqueBeacons":120},{"date":"2026-01-07","count":396,"uniqueBeacons":396}]},{"_id":"Extremadura","total":1024,"dailyData":[{"date":"2026-01-08","count":353,"uniqueBeacons":353},{"date":"2026-01-09","count":161,"uniqueBeacons":161},{"date":"2026-01-07","count":396,"uniqueBeacons":396},{"date":"2026-01-06","count":114,"uniqueBeacons":114}]},{"_id":"Principado de Asturias","total":866,"dailyData":[{"date":"2026-01-07","count":328,"uniqueBeacons":328},{"date":"2026-01-06","count":84,"uniqueBeacons":84},{"date":"2026-01-08","count":321,"uniqueBeacons":321},{"date":"2026-01-09","count":133,"uniqueBeacons":133}]},{"_id":"Illes Balears","total":846,"dailyData":[{"date":"2026-01-09","count":91,"uniqueBeacons":91},{"date":"2026-01-06","count":86,"uniqueBeacons":86},{"date":"2026-01-08","count":311,"uniqueBeacons":311},{"date":"2026-01-07","count":358,"uniqueBeacons":358}]},{"_id":"Catalu√±a","total":772,"dailyData":[{"date":"2026-01-08","count":297,"uniqueBeacons":297},{"date":"2026-01-07","count":298,"uniqueBeacons":298},{"date":"2026-01-09","count":105,"uniqueBeacons":105},{"date":"2026-01-06","count":72,"uniqueBeacons":72}]},{"_id":"Comunidad Foral de Navarra","total":727,"dailyData":[{"date":"2026-01-08","count":285,"uniqueBeacons":285},{"date":"2026-01-07","count":249,"uniqueBeacons":249},{"date":"2026-01-09","count":109,"uniqueBeacons":109},{"date":"2026-01-06","count":84,"uniqueBeacons":84}]},{"_id":"Cantabria","total":625,"dailyData":[{"date":"2026-01-09","count":101,"uniqueBeacons":101},{"date":"2026-01-08","count":203,"uniqueBeacons":203},{"date":"2026-01-06","count":74,"uniqueBeacons":74},{"date":"2026-01-07","count":247,"uniqueBeacons":247}]},{"_id":"Rioja, La","total":286,"dailyData":[{"date":"2026-01-07","count":121,"uniqueBeacons":121},{"date":"2026-01-06","count":8,"uniqueBeacons":8},{"date":"2026-01-09","count":51,"uniqueBeacons":51},{"date":"2026-01-08","count":106,"uniqueBeacons":106}]},{"_id":"Pa√≠s Vasco","total":1,"dailyData":[{"date":"2026-01-08","count":1,"uniqueBeacons":1}]}];
            
            // Obtener top 5 comunidades
            const topComunidades = comunidadData.slice(0, 5);
            
            // Obtener todas las fechas √∫nicas y ordenarlas
            const allDates = [...new Set(topComunidades.flatMap(c => c.dailyData.map(d => d.date)))].sort();
            
            // Colores para las comunidades
            const colors = [
                'rgba(231, 76, 60, 1)',
                'rgba(52, 152, 219, 1)',
                'rgba(46, 204, 113, 1)',
                'rgba(241, 196, 15, 1)',
                'rgba(155, 89, 182, 1)'
            ];
            
            new Chart(comunidadCtx, {
                type: 'line',
                data: {
                    labels: allDates.map(d => new Date(d).toLocaleDateString('es-ES', { day: '2-digit', month: '2-digit' })),
                    datasets: topComunidades.map((comunidad, idx) => {
                        // Crear mapa de datos por fecha
                        const dataMap = {};
                        comunidad.dailyData.forEach(d => {
                            dataMap[d.date] = d.count;
                        });
                        
                        return {
                            label: comunidad._id,
                            data: allDates.map(date => dataMap[date] || 0),
                            borderColor: colors[idx],
                            backgroundColor: colors[idx].replace('1)', '0.1)'),
                            borderWidth: 2,
                            fill: false,
                            tension: 0.4
                        };
                    })
                },
                options: {
                    responsive: true,
                    interaction: {
                        mode: 'index',
                        intersect: false
                    },
                    plugins: {
                        title: {
                            display: true,
                            text: 'Evoluci√≥n Diaria por Comunidad Aut√≥noma (Top 5)',
                            font: { size: 16, weight: 'bold' },
                            padding: 20
                        },
                        legend: {
                            display: true,
                            position: 'top'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'N√∫mero de Activaciones',
                                font: { size: 12, weight: 'bold' }
                            }
                        }
                    }
                }
            });

            // Gr√°fica de activaciones por hora
            const ctx = document.getElementById('activationsChart').getContext('2d');
            const hourData = [{"hour":0,"avg":147,"total":588,"days":4},{"hour":1,"avg":98.5,"total":394,"days":4},{"hour":2,"avg":69.8,"total":279,"days":4},{"hour":3,"avg":40.5,"total":162,"days":4},{"hour":4,"avg":38.3,"total":153,"days":4},{"hour":5,"avg":62,"total":248,"days":4},{"hour":6,"avg":124,"total":496,"days":4},{"hour":7,"avg":289.5,"total":1158,"days":4},{"hour":8,"avg":571.3,"total":2285,"days":4},{"hour":9,"avg":624.3,"total":2497,"days":4},{"hour":10,"avg":543,"total":2172,"days":4},{"hour":11,"avg":559.3,"total":2237,"days":4},{"hour":12,"avg":418.8,"total":1675,"days":4},{"hour":13,"avg":348.5,"total":1394,"days":4},{"hour":14,"avg":331.5,"total":1326,"days":4},{"hour":15,"avg":350.8,"total":1403,"days":4},{"hour":16,"avg":424,"total":1696,"days":4},{"hour":17,"avg":440.3,"total":1761,"days":4},{"hour":18,"avg":517.5,"total":2070,"days":4},{"hour":19,"avg":537.8,"total":2151,"days":4},{"hour":20,"avg":477.8,"total":1911,"days":4},{"hour":21,"avg":389,"total":1556,"days":4},{"hour":22,"avg":275.5,"total":1102,"days":4},{"hour":23,"avg":198.5,"total":794,"days":4}];
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: hourData.map(h => h.hour + ':00h'),
                    datasets: [{
                        label: 'Media Diaria de Activaciones',
                        data: hourData.map(h => h.avg),
                        backgroundColor: 'rgba(52, 152, 219, 0.1)',
                        borderColor: 'rgba(52, 152, 219, 1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        pointRadius: 4,
                        pointHoverRadius: 6,
                        pointBackgroundColor: 'rgba(52, 152, 219, 1)',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top'
                        },
                        title: {
                            display: true,
                            text: 'Media Diaria de Activaciones por Hora (' + hourData[0].days + ' d√≠as de datos)',
                            font: {
                                size: 16,
                                weight: 'bold'
                            },
                            padding: 20
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const hour = hourData[context.dataIndex];
                                    return [
                                        'Media diaria: ' + hour.avg.toFixed(1) + ' activaciones',
                                        'Total per√≠odo: ' + hour.total.toLocaleString() + ' activaciones',
                                        'D√≠as analizados: ' + hour.days
                                    ];
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return value.toLocaleString();
                                }
                            },
                            title: {
                                display: true,
                                text: 'Media Diaria de Activaciones',
                                font: {
                                    size: 12,
                                    weight: 'bold'
                                }
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Hora del D√≠a',
                                font: {
                                    size: 12,
                                    weight: 'bold'
                                }
                            }
                        }
                    }
                }
            });
        </script>

        <h2>ÔøΩüìñ Glosario de T√©rminos</h2>
        <table>
            <tr>
                <th>T√©rmino</th>
                <th>Descripci√≥n</th>
            </tr>
            <tr>
                <td><strong>Baliza</strong></td>
                <td>Dispositivo V16 de emergencia que transmite su ubicaci√≥n cuando est√° activo en una carretera.</td>
            </tr>
            <tr>
                <td><strong>Activaci√≥n</strong></td>
                <td>Evento en el que una baliza comienza a transmitir (status: active). Cada aparici√≥n de una baliza cuenta como 1 activaci√≥n.</td>
            </tr>
            <tr>
                <td><strong>Ciclo</strong></td>
                <td>Secuencia completa de activaci√≥n ‚Üí desactivaci√≥n de una baliza. Si una baliza se activa 3 veces diferentes, tiene 3 ciclos.</td>
            </tr>
            <tr>
                <td><strong>Tiempo Activo</strong></td>
                <td>Duraci√≥n total que una baliza estuvo transmitiendo, desde que aparece (active) hasta que desaparece (lost/inactive).</td>
            </tr>
            <tr>
                <td><strong>Balizas √önicas</strong></td>
                <td>N√∫mero de balizas diferentes identificadas por su ID √∫nico, sin contar repeticiones.</td>
            </tr>
            <tr>
                <td><strong>Estado: Active</strong></td>
                <td>La baliza est√° actualmente transmitiendo y visible en el sistema.</td>
            </tr>
            <tr>
                <td><strong>Estado: Lost/Inactive</strong></td>
                <td>La baliza dej√≥ de transmitir o fue desactivada. Ya no es visible en el sistema.</td>
            </tr>
            <tr>
                <td><strong>Snapshot</strong></td>
                <td>Captura de todos los datos en un momento espec√≠fico. El sistema hace snapshots cada 15 minutos.</td>
            </tr>
            <tr>
                <td><strong>Orientaci√≥n</strong></td>
                <td>Direcci√≥n de la carretera donde est√° ubicada la baliza (Norte, Sur, Este, Oeste, etc.).</td>
            </tr>
            <tr>
                <td><strong>PK (Punto Kilom√©trico)</strong></td>
                <td>Ubicaci√≥n exacta en la carretera medida en kil√≥metros desde el inicio de la v√≠a.</td>
            </tr>
        </table>

        <div class="footer">
            <p>Reporte generado autom√°ticamente por Balizas V16 Data Fetcher</p>
            <p>2026-01-09T11:31:19.908Z</p>
        </div>
    </div>
</body>
</html>